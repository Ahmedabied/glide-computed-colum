"use strict";(()=>{function p(t){return t instanceof Date?t.toISOString():Array.isArray(t)?t.map(p):t}async function w(t,n){let{data:{key:e,params:r}}=t,i,a;try{i=await n(...r)}catch(s){i=void 0;try{a=s.toString()}catch{a="Exception can't be stringified."}}let c={key:e};i!==void 0&&(i=p(i),c.result={type:"string",value:i}),a!==void 0&&(c.error=a),(t.source?.postMessage)(c,"*")}function m(t){return typeof window<"u"&&window.addEventListener("message",n=>w(n,t.run)),{...t,json:JSON.stringify(T(t),null,2)}}var v=`
        <svg
          width="48"
          height="48"
          viewBox="0 0 26 27"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 14.85L14.3 0V7.29C14.3 11.4653 11.0406 14.85 7.02 14.85H0Z"
            fill="currentColor"
          />
          <path
            d="M11.7 19.71C11.7 15.5347 14.9594 12.15 18.98 12.15H26L11.7 27V19.71Z"
            fill="currentColor"
          />
        </svg>
    `,L=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.0002 34.828L2.58624 25.414C1.80524 24.633 1.80524 23.367 2.58624 22.586L12.0002 13.172L14.8292 16L6.82924 24L14.8292 32L12.0002 34.828Z" fill="currentColor"/>
<path d="M36.0004 34.828L33.1714 32L41.1714 24L33.1714 16L36.0004 13.172L45.4144 22.586C46.1954 23.367 46.1954 24.633 45.4144 25.414L36.0004 34.828Z" fill="currentColor"/>
<path d="M26.5485 5.57617L17.5723 41.4553L21.4527 42.4261L30.4289 6.54697L26.5485 5.57617Z" fill="currentColor"/>
</svg>`;function T(t){let{name:n,description:e,author:r,result:i,params:a,about:c,video:s}=t,{icon:o=L}=t;return o==="glide"&&(o=v),{name:n,description:e,author:r,result:i,about:c,icon:o,video:s,params:Object.entries(a).map(([l,h])=>({name:l,...h}))}}var g={timeoutSeconds:3600};function d(t){return(new Date().getTime()-t.getTime())/1e3}var u=class{constructor(n=g){this.cache=new Map;this.props={...n,...g}}async get(n){let{timestamp:e,item:r}=this.cache.get(n)??{timestamp:new Date(0)};if(d(e)<this.props.timeoutSeconds)return r;this.cache.delete(n)}async getWith(n,e){let{timestamp:r,item:i}=this.cache.get(n)??{timestamp:new Date(0)};if(d(r)<this.props.timeoutSeconds)return i;{let a=await e(n);return this.set(n,a),a}}set(n,e){return this.cache.set(n,{timestamp:new Date,item:e})}async fetch(n,e=n){return await this.getWith(e,()=>fetch(n).then(r=>r.json()))}};var f=new u,y="https://corsproxy.io/?",C={"\u0634 \u0645 \u0645":"LLC",\u0634_\u0645_\u0645:"LLC","\u0634.\u0645.\u0645":"LLC","\u0630 \u0645 \u0645":"LLC",\u0630_\u0645_\u0645:"LLC","\u0630.\u0645.\u0645":"LLC","\u0634 \u0634 \u0648":"S.P.C",\u0634_\u0634_\u0648:"S.P.C",\u0645\u0633\u0627\u0647\u0645\u0629:"Joint Stock",\u0645\u062D\u062F\u0648\u062F\u0629:"Limited","\u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639 \u0627\u0644\u0637\u0628\u064A\u0629":"Medical Projects","\u0627\u0644\u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0637\u0628\u064A\u0629":"Medical Services","\u0627\u0644\u062A\u062C\u0627\u0631\u0629 \u0627\u0644\u0639\u0627\u0645\u0629":"General Trading","\u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629":"Diversified Business","\u0627\u0644\u0627\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629":"Diversified Business",\u0644\u0644\u062A\u062C\u0627\u0631\u0629:"Trading",\u0627\u0644\u062A\u062C\u0627\u0631\u0629:"Trading",\u062A\u062C\u0627\u0631\u0629:"Trading",\u0644\u0644\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0627\u0644\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0644\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0627\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0644\u0644\u062E\u062F\u0645\u0627\u062A:"Services",\u0627\u0644\u062E\u062F\u0645\u0627\u062A:"Services",\u062E\u062F\u0645\u0627\u062A:"Services",\u0644\u0644\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0627\u0644\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0644\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0644\u0644\u062A\u0635\u062F\u064A\u0631:"Export",\u0627\u0644\u062A\u0635\u062F\u064A\u0631:"Export",\u062A\u0635\u062F\u064A\u0631:"Export",\u0648\u0627\u0644\u062A\u0648\u0632\u064A\u0639:"and Distribution",\u0627\u0644\u062A\u0648\u0632\u064A\u0639:"Distribution",\u062A\u0648\u0632\u064A\u0639:"Distribution",\u0627\u0644\u0642\u0627\u0628\u0636\u0629:"Holding",\u0627\u0644\u0634\u0631\u0643\u0629:"The Company",\u0634\u0631\u0643\u0629:"Company",\u0645\u062C\u0645\u0648\u0639\u0629:"Group",\u0645\u0624\u0633\u0633\u0629:"Establishment",\u0627\u0644\u0645\u0624\u0633\u0633\u0629:"The Establishment",\u0645\u0643\u062A\u0628:"Office",\u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639:"Projects",\u0645\u0634\u0627\u0631\u064A\u0639:"Projects",\u0627\u0644\u0637\u0628\u064A\u0629:"Medical",\u0637\u0628\u064A\u0629:"Medical",\u0627\u0644\u0639\u0627\u0645\u0629:"General",\u0639\u0627\u0645\u0647:"General",\u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629:"Diversified",\u0645\u062A\u0639\u062F\u062F\u0629:"Diversified",\u0627\u0644\u0623\u0639\u0645\u0627\u0644:"Business",\u0627\u0644\u0627\u0639\u0645\u0627\u0644:"Business",\u0623\u0639\u0645\u0627\u0644:"Business",\u0627\u0639\u0645\u0627\u0644:"Business",\u0648\u0634\u0631\u0643\u0627\u0647:"& Partners",\u0648\u0634\u0631\u0643\u0627\u0626\u0647\u0645:"& Partners",\u0648\u0634\u0631\u064A\u0643\u062A\u0629:"& Co.",\u0648\u0634\u0631\u064A\u0643\u062A\u0647:"& Co."};function S(t){return/[\u0600-\u06FF]/.test(t)}function b(t){return t.replace(/\w\S*/g,n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase())}async function I(t,n){let e=`https://transliterate.qcri.org/ar2en/${encodeURIComponent(t)}`,r=typeof window<"u"?y+encodeURIComponent(e):e;return(await n(r)).results??t}async function M(t,n){let e=t,r=Object.keys(C).sort((s,o)=>o.length-s.length);e=e.replace(/\s+/g," "),e=e.replace(/ش\s+م\s+م/g,"\u0634_\u0645_\u0645").replace(/ذ\s+م\s+م/g,"\u0630_\u0645_\u0645").replace(/ش\s+ش\s+و/g,"\u0634_\u0634_\u0648");for(let s of r){let o=C[s],l="\u0648"+s;e.includes(l)&&(e=e.split(l).join(" and "+o+" ")),e.includes(s)&&(e=e.split(s).join(" "+o+" "))}e=e.replace(/\s+/g," ").trim();let i=/[\u0600-\u06FF]+(?:\s+[\u0600-\u06FF]+)*/g,a=e.match(i)||[],c=[...new Set(a)];for(let s of c)try{let o=await I(s,n),l=b(o);e=e.split(s).join(" "+l+" ")}catch(o){console.error("Failed to transliterate block:",s,o)}return e.replace(/\s+/g," ").trim()}var _=m({name:"Name Transliterator",description:"Transliterates names between Arabic and English scripts.",author:"Glide User",params:{language:{displayName:"Target Language",type:"string"},name:{displayName:"Name",type:"string"}},result:{type:"string"},async run(t,n){if(t.value===void 0||n.value===void 0)return;let e=t.value.toLowerCase().trim(),r=n.value.trim();if(!r)return"";if(e!=="en"&&e!=="ar")return r;let i=S(r);if(e==="en"&&!i||e==="ar"&&i)return r;if(e==="en"&&i)return await M(r,s=>f.fetch(s));let a=e==="en"?`https://transliterate.qcri.org/ar2en/${encodeURIComponent(r)}`:`https://transliterate.qcri.org/en2ar/${encodeURIComponent(r)}`,c=typeof window<"u"?y+encodeURIComponent(a):a;try{return(await f.fetch(c)).results??r}catch{return r}}});})();
//# sourceMappingURL=index.js.map
