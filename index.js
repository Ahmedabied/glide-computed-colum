"use strict";(()=>{function g(e){return e instanceof Date?e.toISOString():Array.isArray(e)?e.map(g):e}async function L(e,n){let{data:{key:t,params:r}}=e,s,o;try{s=await n(...r)}catch(i){s=void 0;try{o=i.toString()}catch{o="Exception can't be stringified."}}let c={key:t};s!==void 0&&(s=g(s),c.result={type:"string",value:s}),o!==void 0&&(c.error=o),(e.source?.postMessage)(c,"*")}function d(e){return typeof window<"u"&&window.addEventListener("message",n=>L(n,e.run)),{...e,json:JSON.stringify(I(e),null,2)}}var b=`
        <svg
          width="48"
          height="48"
          viewBox="0 0 26 27"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 14.85L14.3 0V7.29C14.3 11.4653 11.0406 14.85 7.02 14.85H0Z"
            fill="currentColor"
          />
          <path
            d="M11.7 19.71C11.7 15.5347 14.9594 12.15 18.98 12.15H26L11.7 27V19.71Z"
            fill="currentColor"
          />
        </svg>
    `,S=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.0002 34.828L2.58624 25.414C1.80524 24.633 1.80524 23.367 2.58624 22.586L12.0002 13.172L14.8292 16L6.82924 24L14.8292 32L12.0002 34.828Z" fill="currentColor"/>
<path d="M36.0004 34.828L33.1714 32L41.1714 24L33.1714 16L36.0004 13.172L45.4144 22.586C46.1954 23.367 46.1954 24.633 45.4144 25.414L36.0004 34.828Z" fill="currentColor"/>
<path d="M26.5485 5.57617L17.5723 41.4553L21.4527 42.4261L30.4289 6.54697L26.5485 5.57617Z" fill="currentColor"/>
</svg>`;function I(e){let{name:n,description:t,author:r,result:s,params:o,about:c,video:i}=e,{icon:a=S}=e;return a==="glide"&&(a=b),{name:n,description:t,author:r,result:s,about:c,icon:a,video:i,params:Object.entries(o).map(([u,P])=>({name:u,...P}))}}var f={timeoutSeconds:3600};function y(e){return(new Date().getTime()-e.getTime())/1e3}var l=class{constructor(n=f){this.cache=new Map;this.props={...n,...f}}async get(n){let{timestamp:t,item:r}=this.cache.get(n)??{timestamp:new Date(0)};if(y(t)<this.props.timeoutSeconds)return r;this.cache.delete(n)}async getWith(n,t){let{timestamp:r,item:s}=this.cache.get(n)??{timestamp:new Date(0)};if(y(r)<this.props.timeoutSeconds)return s;{let o=await t(n);return this.set(n,o),o}}set(n,t){return this.cache.set(n,{timestamp:new Date,item:t})}async fetch(n,t=n){return await this.getWith(t,()=>fetch(n).then(r=>r.json()))}};var m=new l,w="https://corsproxy.io/?url=",h={"\u0634 \u0645 \u0645":"LLC","\u0630 \u0645 \u0645":"LLC","\u0634 \u0634 \u0648":"S.P.C",\u0645\u0633\u0627\u0647\u0645\u0629:"Joint Stock",\u0645\u062D\u062F\u0648\u062F\u0629:"Limited","\u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639 \u0627\u0644\u0637\u0628\u064A\u0629":"Medical Projects","\u0627\u0644\u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0637\u0628\u064A\u0629":"Medical Services","\u0627\u0644\u062A\u062C\u0627\u0631\u0629 \u0627\u0644\u0639\u0627\u0645\u0629":"General Trading","\u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629":"Diversified Business","\u0627\u0644\u0627\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629":"Diversified Business",\u0644\u0644\u062A\u062C\u0627\u0631\u0629:"Trading",\u0627\u0644\u062A\u062C\u0627\u0631\u0629:"Trading",\u062A\u062C\u0627\u0631\u0629:"Trading",\u0644\u0644\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0627\u0644\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0644\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0627\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0644\u0644\u062E\u062F\u0645\u0627\u062A:"Services",\u0627\u0644\u062E\u062F\u0645\u0627\u062A:"Services",\u062E\u062F\u0645\u0627\u062A:"Services",\u0644\u0644\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0627\u0644\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0644\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0644\u0644\u062A\u0635\u062F\u064A\u0631:"Export",\u0627\u0644\u062A\u0635\u062F\u064A\u0631:"Export",\u062A\u0635\u062F\u064A\u0631:"Export",\u0648\u0627\u0644\u062A\u0648\u0632\u064A\u0639:"and Distribution",\u0627\u0644\u062A\u0648\u0632\u064A\u0639:"Distribution",\u062A\u0648\u0632\u064A\u0639:"Distribution",\u0627\u0644\u0642\u0627\u0628\u0636\u0629:"Holding",\u0627\u0644\u0634\u0631\u0643\u0629:"The Company",\u0634\u0631\u0643\u0629:"Company",\u0645\u062C\u0645\u0648\u0639\u0629:"Group",\u0645\u0624\u0633\u0633\u0629:"Establishment",\u0627\u0644\u0645\u0624\u0633\u0633\u0629:"The Establishment",\u0645\u0643\u062A\u0628:"Office",\u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639:"Projects",\u0645\u0634\u0627\u0631\u064A\u0639:"Projects",\u0627\u0644\u0637\u0628\u064A\u0629:"Medical",\u0637\u0628\u064A\u0629:"Medical",\u0627\u0644\u0639\u0627\u0645\u0629:"General",\u0639\u0627\u0645\u0647:"General",\u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629:"Diversified",\u0645\u062A\u0639\u062F\u062F\u0629:"Diversified",\u0627\u0644\u0623\u0639\u0645\u0627\u0644:"Business",\u0627\u0644\u0627\u0639\u0645\u0627\u0644:"Business",\u0623\u0639\u0645\u0627\u0644:"Business",\u0627\u0639\u0645\u0627\u0644:"Business",\u0648\u0634\u0631\u0643\u0627\u0647:"& Partners",\u0648\u0634\u0631\u0643\u0627\u0626\u0647\u0645:"& Partners",\u0648\u0634\u0631\u064A\u0643\u062A\u0629:"& Co.",\u0648\u0634\u0631\u064A\u0643\u062A\u0647:"& Co."},x=["\u0634\u0631\u0643\u0629","\u0645\u0624\u0633\u0633\u0629","\u0645\u062C\u0645\u0648\u0639\u0629","\u0627\u0644\u0642\u0627\u0628\u0636\u0629","\u0644\u0644\u062A\u062C\u0627\u0631\u0629","\u0627\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062A","\u0627\u0644\u062E\u062F\u0645\u0627\u062A","\u0627\u0633\u062A\u062B\u0645\u0627\u0631","\u0634 \u0645 \u0645","\u0630 \u0645 \u0645","\u0634.\u0645.\u0645","\u0630.\u0645.\u0645","\u0644\u0644\u0627\u0633\u062A\u062B\u0645\u0627\u0631","\u0644\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062A","\u0644\u0644\u062E\u062F\u0645\u0627\u062A","\u0644\u0644\u0635\u0646\u0627\u0639\u0629","\u0644\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F","\u0644\u0644\u062A\u0635\u062F\u064A\u0631","\u0648\u0627\u0644\u062A\u0648\u0632\u064A\u0639"];function D(e){return/[\u0600-\u06FF]/.test(e)}function p(e){return e?e.trim().replace(/[أإآ]/g,"\u0627").replace(/ة$/g,"\u0647").replace(/ة\s/g,"\u0647 ").replace(/[.,]/g," ").replace(/\s+/g," "):""}function E(e){let n=p(e);return x.some(t=>{let s=p(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`(^|\\s)${s}($|\\s)`).test(n)})}function v(e){return e.replace(/\w\S*/g,n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase())}function C(e,n,t){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=new RegExp(`(^|\\s)${r}(?=$|\\s)`,"g");return e.replace(s,(o,c)=>c+" "+t+" ")}function R(e){return!e||e.length===0?"":e[0]}async function T(e,n){if(!e.trim())return"";let t=`https://transliterate.qcri.org/ar2en/nbest/${encodeURIComponent(e)}`,r=typeof window<"u"?w+encodeURIComponent(t):t;try{let s=await n(r);return s&&s.results&&Array.isArray(s.results)?R(s.results):e}catch(s){return console.error("Transliteration Error",s),e}}async function A(e,n){let t=p(e),r=Object.keys(h).sort((i,a)=>a.length-i.length);for(let i of r){let a=p(i),u=h[i];t.includes(a)&&(t=C(t,a,u))}t=t.replace(/\s+/g," ").trim();let s=/[\u0600-\u06FF]+(?:\s+[\u0600-\u06FF]+)*/g,o=t.match(s)||[],c=[...new Set(o)];for(let i of c)try{let a=await T(i,n),u=v(a);t=C(t,i,u)}catch(a){console.error("Failed to transliterate block:",i,a)}return t.replace(/\s+/g," ").trim()}var O=d({name:"Name Transliterator",description:"Transliterates names between Arabic and English scripts.",author:"Glide User",params:{language:{displayName:"Target Language",type:"string"},name:{displayName:"Name",type:"string"}},result:{type:"string"},async run(e,n){if(e.value===void 0||n.value===void 0)return;let t=e.value.toLowerCase().trim(),r=n.value.trim();if(!r)return"";if(t!=="en"&&t!=="ar")return r;let s=D(r);if(t==="en"&&!s||t==="ar"&&s)return r;if(t==="en"&&s){if(E(r))return await A(r,i=>m.fetch(i));{let i=await T(r,a=>m.fetch(a));return v(i)}}let o=`https://transliterate.qcri.org/en2ar/${encodeURIComponent(r)}`,c=typeof window<"u"?w+encodeURIComponent(o):o;try{let i=await m.fetch(c);return i&&i.results?Array.isArray(i.results)?i.results[0]:i.results:r}catch{return r}}});})();
//# sourceMappingURL=index.js.map
