"use strict";(()=>{function C(n){return n instanceof Date?n.toISOString():Array.isArray(n)?n.map(C):n}async function x(n,r){let{data:{key:t,params:s}}=n,a,o;try{a=await r(...s)}catch(e){a=void 0;try{o=e.toString()}catch{o="Exception can't be stringified."}}let c={key:t};a!==void 0&&(a=C(a),c.result={type:"string",value:a}),o!==void 0&&(c.error=o),(n.source?.postMessage)(c,"*")}function y(n){return typeof window<"u"&&window.addEventListener("message",r=>x(r,n.run)),{...n,json:JSON.stringify(M(n),null,2)}}var S=`
        <svg
          width="48"
          height="48"
          viewBox="0 0 26 27"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 14.85L14.3 0V7.29C14.3 11.4653 11.0406 14.85 7.02 14.85H0Z"
            fill="currentColor"
          />
          <path
            d="M11.7 19.71C11.7 15.5347 14.9594 12.15 18.98 12.15H26L11.7 27V19.71Z"
            fill="currentColor"
          />
        </svg>
    `,I=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.0002 34.828L2.58624 25.414C1.80524 24.633 1.80524 23.367 2.58624 22.586L12.0002 13.172L14.8292 16L6.82924 24L14.8292 32L12.0002 34.828Z" fill="currentColor"/>
<path d="M36.0004 34.828L33.1714 32L41.1714 24L33.1714 16L36.0004 13.172L45.4144 22.586C46.1954 23.367 46.1954 24.633 45.4144 25.414L36.0004 34.828Z" fill="currentColor"/>
<path d="M26.5485 5.57617L17.5723 41.4553L21.4527 42.4261L30.4289 6.54697L26.5485 5.57617Z" fill="currentColor"/>
</svg>`;function M(n){let{name:r,description:t,author:s,result:a,params:o,about:c,video:e}=n,{icon:i=I}=n;return i==="glide"&&(i=S),{name:r,description:t,author:s,result:a,about:c,icon:i,video:e,params:Object.entries(o).map(([u,l])=>({name:u,...l}))}}var w={timeoutSeconds:3600};function v(n){return(new Date().getTime()-n.getTime())/1e3}var h=class{constructor(r=w){this.cache=new Map;this.props={...r,...w}}async get(r){let{timestamp:t,item:s}=this.cache.get(r)??{timestamp:new Date(0)};if(v(t)<this.props.timeoutSeconds)return s;this.cache.delete(r)}async getWith(r,t){let{timestamp:s,item:a}=this.cache.get(r)??{timestamp:new Date(0)};if(v(s)<this.props.timeoutSeconds)return a;{let o=await t(r);return this.set(r,o),o}}set(r,t){return this.cache.set(r,{timestamp:new Date,item:t})}async fetch(r,t=r){return await this.getWith(t,()=>fetch(r).then(s=>s.json()))}};var T=new h,P="https://corsproxy.io/?",p={"\u0634 \u0645 \u0645":"LLC",\u0634_\u0645_\u0645:"LLC","\u0634.\u0645.\u0645":"LLC","\u0630 \u0645 \u0645":"LLC",\u0630_\u0645_\u0645:"LLC","\u0630.\u0645.\u0645":"LLC","\u0634 \u0634 \u0648":"S.P.C",\u0634_\u0634_\u0648:"S.P.C",\u0645\u0633\u0627\u0647\u0645\u0629:"Joint Stock",\u0645\u062D\u062F\u0648\u062F\u0629:"Limited","\u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639 \u0627\u0644\u0637\u0628\u064A\u0629":"Medical Projects","\u0627\u0644\u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0637\u0628\u064A\u0629":"Medical Services","\u0627\u0644\u062A\u062C\u0627\u0631\u0629 \u0627\u0644\u0639\u0627\u0645\u0629":"General Trading","\u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629":"Diversified Business","\u0627\u0644\u0627\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629":"Diversified Business",\u0644\u0644\u062A\u062C\u0627\u0631\u0629:"Trading",\u0627\u0644\u062A\u062C\u0627\u0631\u0629:"Trading",\u062A\u062C\u0627\u0631\u0629:"Trading",\u0644\u0644\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0627\u0644\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0627\u0633\u062A\u062B\u0645\u0627\u0631:"Investment",\u0644\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0627\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0645\u0642\u0627\u0648\u0644\u0627\u062A:"Contracting",\u0644\u0644\u062E\u062F\u0645\u0627\u062A:"Services",\u0627\u0644\u062E\u062F\u0645\u0627\u062A:"Services",\u062E\u062F\u0645\u0627\u062A:"Services",\u0644\u0644\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0627\u0644\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0635\u0646\u0627\u0639\u0629:"Industrial",\u0644\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0627\u0633\u062A\u064A\u0631\u0627\u062F:"Import",\u0644\u0644\u062A\u0635\u062F\u064A\u0631:"Export",\u0627\u0644\u062A\u0635\u062F\u064A\u0631:"Export",\u062A\u0635\u062F\u064A\u0631:"Export",\u0648\u0627\u0644\u062A\u0648\u0632\u064A\u0639:"and Distribution",\u0627\u0644\u062A\u0648\u0632\u064A\u0639:"Distribution",\u062A\u0648\u0632\u064A\u0639:"Distribution",\u0627\u0644\u0642\u0627\u0628\u0636\u0629:"Holding",\u0627\u0644\u0634\u0631\u0643\u0629:"The Company",\u0634\u0631\u0643\u0629:"Company",\u0645\u062C\u0645\u0648\u0639\u0629:"Group",\u0645\u0624\u0633\u0633\u0629:"Establishment",\u0645\u0643\u062A\u0628:"Office",\u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639:"Projects",\u0645\u0634\u0627\u0631\u064A\u0639:"Projects",\u0627\u0644\u0637\u0628\u064A\u0629:"Medical",\u0637\u0628\u064A\u0629:"Medical",\u0627\u0644\u0639\u0627\u0645\u0629:"General",\u0639\u0627\u0645\u0647:"General",\u0627\u0644\u0645\u062A\u0639\u062F\u062F\u0629:"Diversified",\u0645\u062A\u0639\u062F\u062F\u0629:"Diversified",\u0627\u0644\u0623\u0639\u0645\u0627\u0644:"Business",\u0627\u0644\u0627\u0639\u0645\u0627\u0644:"Business",\u0623\u0639\u0645\u0627\u0644:"Business",\u0627\u0639\u0645\u0627\u0644:"Business",\u0648\u0634\u0631\u0643\u0627\u0647:"& Partners",\u0648\u0634\u0631\u0643\u0627\u0626\u0647\u0645:"& Partners",\u0648\u0634\u0631\u064A\u0643\u062A\u0629:"& Co.",\u0648\u0634\u0631\u064A\u0643\u062A\u0647:"& Co."};function _(n){return/[\u0600-\u06FF]/.test(n)}function L(n){return n.replace(/\w\S*/g,r=>r.charAt(0).toUpperCase()+r.substr(1).toLowerCase())}async function j(n,r){let t=n,s=Object.keys(p).filter(e=>e.includes(" ")||e.includes("_")).sort((e,i)=>i.length-e.length);t=t.replace(/ش\s+م\s+م/g,"\u0634_\u0645_\u0645").replace(/ذ\s+م\s+م/g,"\u0630_\u0645_\u0645").replace(/ش\s+ش\s+و/g,"\u0634_\u0634_\u0648");for(let e of s){let i="\u0648"+e;t.includes(i)&&(t=t.split(i).join(" and "+p[e]+" ")),t.includes(e)&&(t=t.split(e).join(" "+p[e]+" "))}let a=t.split(/\s+/),o=new Array(a.length).fill(null),c=[];for(let e=0;e<a.length;e++){let i=a[e];if(/^[A-Za-z0-9&.]+$/.test(i)){o[e]=i;continue}let u;if(p[i]&&(u=p[i]),!u){let l=i.replace(/ة$/,"\u0647");p[l]&&(u=p[l])}if(!u&&i.startsWith("\u0627\u0644")&&i.length>3){let l=i.substring(2);if(p[l])u=p[l];else{let m=l.replace(/ة$/,"\u0647");p[m]&&(u=p[m])}}if(!u&&i.startsWith("\u0648")&&i.length>3){let l=i.substring(1);if(p[l])u="and "+p[l];else if(l.startsWith("\u0627\u0644")&&l.length>3){let m=l.substring(2);p[m]&&(u="and "+p[m])}}u?o[e]=u:c.push({index:e,word:i})}if(c.length>0){let e=c.map(l=>l.word).join(" "),i=`https://transliterate.qcri.org/ar2en/${encodeURIComponent(e)}`,u=typeof window<"u"?P+encodeURIComponent(i):i;try{let m=(await r(u)).results||e,U=m.split(" "),b=m,d=0,f=b.split(/\s+/);for(let g=0;g<c.length;g++)d<f.length&&(o[c[g].index]=L(f[d]),d++);for(;d<f.length;){let g=c[c.length-1].index;o[g]+=" "+L(f[d]),d++}}catch{c.forEach(m=>{o[m.index]=m.word})}}return o.filter(e=>e!==null&&e!=="").join(" ")}var R=y({name:"Name Transliterator",description:"Transliterates names between Arabic and English scripts.",author:"Glide User",params:{language:{displayName:"Target Language",type:"string"},name:{displayName:"Name",type:"string"}},result:{type:"string"},async run(n,r){if(n.value===void 0||r.value===void 0)return;let t=n.value.toLowerCase().trim(),s=r.value.trim();if(!s)return"";if(t!=="en"&&t!=="ar")return s;let a=_(s);if(t==="en"&&!a||t==="ar"&&a)return s;if(t==="en"&&a)return await j(s,e=>T.fetch(e));let o=t==="en"?`https://transliterate.qcri.org/ar2en/${encodeURIComponent(s)}`:`https://transliterate.qcri.org/en2ar/${encodeURIComponent(s)}`,c=typeof window<"u"?P+encodeURIComponent(o):o;try{return(await T.fetch(c)).results??s}catch{return s}}});})();
//# sourceMappingURL=index.js.map
